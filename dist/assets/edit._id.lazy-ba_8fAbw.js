import{j as n,I as B}from"./index-FzLZRbec.js";import{u as F,a as y,i as c,s as l,S as D,T as z,b as L,L as a,B as d}from"./index-40n4kn2l.js";const R=()=>{const{id:o}=P.useParams(),{tasks:m,taskInput:v,section:t,epicInput:x,epics:r,setEpicInput:C,setTaskInput:h}=F(),{onTaskInputChange:g,onTaskEdit:I,onEpicEdit:j,onEpicInputChange:b}=y(),e=c(t)?x:v,p=c(t)?r:m,s=p==null?void 0:p.filter(i=>c(t)?i.epicNumber===o:i.taskNumber===o)[0],E=()=>{c(t)?C(void 0):h(void 0)},u={epic:e!=null&&e.epic?e==null?void 0:e.epic:s==null?void 0:s.epic,description:e!=null&&e.description?e==null?void 0:e.description:s==null?void 0:s.description,dueDate:e!=null&&e.dueDate?e==null?void 0:e.dueDate:s==null?void 0:s.dueDate,status:e!=null&&e.status?e==null?void 0:e.status:s==null?void 0:s.status,owner:e!=null&&e.owner?e==null?void 0:e.owner:s==null?void 0:s.owner,userId:s==null?void 0:s.userId,taskNumber:s==null?void 0:s.taskNumber,dateCreation:s==null?void 0:s.dateCreation},w=()=>{c(t)?j(u,o):I(u,o)},T=i=>c(t)?b(i,o):g(i,o),f={activeBgColor:"green",activeTextColor:"white",completedBgColor:"green",completedTextColor:"white",inactiveBgColor:"grey",inactiveTextColor:"white",size:"2em",circleFontSize:"1rem",labelFontSize:"0.875rem",borderRadius:"50%",fontWeight:"500"},N=l.indexOf((s==null?void 0:s.status)||""),S=r?r.map(i=>i.epic?i.epic:""):void 0;return n.jsxs("div",{className:"edit-wrapper",children:[n.jsx(D,{activeStep:N,styleConfig:f,options:l,label:"Progress"}),n.jsx(z,{onChange:i=>T(i),users:L,status:l,values:u,epic:S}),n.jsxs("div",{className:"button-wrapper",children:[n.jsx(a,{to:"/",children:n.jsx(d,{className:"back-cta",variant:"secondary",onClick:E,children:"Back"})}),n.jsx(a,{to:"/",onClick:w,children:n.jsx(d,{className:"save-cta",variant:"success",children:"Save"})})]})]})},P=B("/edit/$id")({component:O});function O(){return n.jsx(R,{})}export{P as Route};
